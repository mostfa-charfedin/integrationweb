<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Chat Coach Sportif</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Font Awesome pour les ic√¥nes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* Supprime les marges par d√©faut du body et html */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      overflow-x: hidden;
    }
    
    /* Styles pour am√©liorer le responsive */
    @media (max-width: 640px) {
      .nav-buttons {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .nav-button {
        flex: 1 0 auto;
        min-width: 140px;
        margin-bottom: 4px;
      }
      
      .message-input-container {
        flex-direction: column;
      }
      
      .message-input-container input {
        margin-bottom: 10px;
      }
    }
    
    /* Animation pour les messages */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .message {
      animation: fadeIn 0.3s ease-out;
      position: relative;
      padding-left: 50px;
      margin-bottom: 16px;
    }
    
    .user-message {
      padding-left: 0;
      padding-right: 50px;
    }
    
    .message-icon {
      position: absolute;
      left: 10px;
      top: 12px;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 14px;
    }
    
    .user-message .message-icon {
      left: auto;
      right: 10px;
    }
    
    /* Custom scrollbar */
    .messages-container::-webkit-scrollbar {
      width: 6px;
    }
    
    .messages-container::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    .messages-container::-webkit-scrollbar-thumb {
      background: #FF6B35;
      border-radius: 10px;
    }
    
    /* Style pour le bouton micro */
    .microphone-btn {
      transition: all 0.3s ease;
    }
    
    .microphone-btn.listening {
      background: #FF6B35 !important;
      color: white !important;
      animation: pulse 1.5s infinite;
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>
</head>

<body class="min-h-screen w-full bg-white font-sans text-[#0A1F2F]">

<!-- ======================================================
  CHAT COACH SPORTIF
====================================================== -->
<section class="w-full min-h-screen bg-white
              grid grid-rows-[auto_1fr] overflow-hidden">

<!-- ================= HEADER ================= -->
<header class="bg-gradient-to-r from-[#0A1F2F] to-[#1A3B5A] text-white">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">

    <!-- Logo -->
    <div class="flex items-center gap-3">
      <img src="./assets/img/logo.png"
       class="h-16 w-16 md:h-20 md:w-20" alt="Logo">
      <span class="font-bold text-lg">ESPRITFIT</span>
    </div>

    <!-- Navigation -->
    <nav class="hidden md:flex gap-3">
      <a class="px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20">Accueil</a>
      <a class="px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20">Journal d'Activit√©</a>
      <a class="px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20">Progression</a>
      <a class="px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 font-bold shadow">
        R√©compenses
      </a>
      <a class="px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20">Chat Coach</a>
    </nav>
  </div>
</header>

<!-- ================= CONTENU ================= -->
<div class="p-4 md:p-6 lg:p-10 bg-white overflow-y-auto h-full">

  <!-- TITRE -->
  <h2 class="text-2xl md:text-3xl lg:text-4xl font-extrabold text-center mb-8 md:mb-10 lg:mb-12 relative
             after:content-[''] after:absolute after:-bottom-2 md:after:-bottom-3 lg:after:-bottom-4
             after:left-1/2 after:-translate-x-1/2
             after:w-16 md:after:w-18 lg:after:w-20 after:h-0.5 md:after:h-1 after:rounded
             after:bg-gradient-to-r from-[#FF6B35] to-[#E74C3C]">
    <i class="fas fa-comments mr-3"></i>Chat Coach Sportif
  </h2>

  <!-- CONTENEUR PRINCIPAL -->
  <div class="max-w-full md:max-w-[90%] lg:max-w-[900px] mx-auto border-2 border-[#D0D8E0]
            rounded-xl p-4 md:p-6 flex flex-col min-h-[500px] md:min-h-[550px] lg:min-h-[600px]">

    <!-- HEADER -->
    <div class="flex items-center gap-4 border-b-2 border-[#D0D8E0] pb-4 mb-6">
      <div class="w-12 h-12 md:w-14 md:h-14 rounded-full
                  bg-gradient-to-br from-[#FF6B35] to-[#E74C3C]
                  flex items-center justify-center text-white text-xl md:text-2xl">
        <i class="fas fa-dumbbell"></i>
      </div>

      <div class="flex-1">
        <p class="font-bold text-sm md:text-base">Professeur ALAIN <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full ml-2">COACH CERTIFI√â</span></p>
        <p class="text-[#FF6B35] font-semibold text-xs md:text-sm flex items-center">
          <span class="w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"></span>
          En ligne ‚Ä¢ R√©pond instantan√©ment
        </p>
        <p class="text-xs text-gray-500 mt-1">Sp√©cialiste en r√©√©ducation sportive ‚Ä¢ 10 ans d'exp√©rience</p>
      </div>
      
      <div class="text-right hidden md:block">
        <button id="voiceToggleBtn" onclick="toggleCoachVoice()" 
                class="px-3 py-2 bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A] text-white rounded-lg text-sm hover:opacity-90 transition">
          <i class="fas fa-volume-up mr-1"></i> Voix activ√©e
        </button>
      </div>
    </div>

    <!-- MESSAGES - MESSAGES STATIQUES VISIBLES -->
    <div id="messagesContainer" class="flex-1 overflow-y-auto mb-6 flex flex-col messages-container">
      <!-- Message 1: Utilisateur -->
      <div class="message user-message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-[#F5F7FA] border-2 border-[#D0D8E0] rounded-xl p-4 mb-4 self-end">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-user"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">Bonjour Coach Alain ! J'ai commenc√© la musculation il y a 2 mois et je sens une douleur √† l'√©paule gauche quand je fais du d√©velopp√© couch√©.</p>
          <button onclick="speakMessage('Bonjour Coach Alain ! J\'ai commenc√© la musculation il y a 2 mois et je sens une douleur √† l\'√©paule gauche quand je fais du d√©velopp√© couch√©.', 'user')" 
                  class="ml-2 text-gray-400 hover:text-[#FF6B35] transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-gray-500 mt-2 text-right">09:15 ‚Ä¢ Vous</p>
      </div>

      <!-- Message 2: Coach -->
      <div class="message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-gradient-to-br from-[#FF6B35] to-[#E74C3C] text-white rounded-xl p-4 mb-4">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-dumbbell"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">Bonjour ! Merci pour ton message. La douleur est-elle aigu√´ ou plut√¥t une g√™ne ? Est-ce que √ßa arrive seulement pendant l'exercice ou aussi apr√®s ?</p>
          <button onclick="speakMessage('Bonjour ! Merci pour ton message. La douleur est-elle aigu√´ ou plut√¥t une g√™ne ? Est-ce que √ßa arrive seulement pendant l\'exercice ou aussi apr√®s ?', 'coach')" 
                  class="ml-2 text-white/70 hover:text-white transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-white/70 mt-2">09:16 ‚Ä¢ Coach ALAIN</p>
      </div>

      <!-- Message 3: Utilisateur -->
      <div class="message user-message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-[#F5F7FA] border-2 border-[#D0D8E0] rounded-xl p-4 mb-4 self-end">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-user"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">C'est une douleur aigu√´ pendant l'exercice, surtout quand je descends la barre. Apr√®s, c'est plus une g√™ne qu'une vraie douleur.</p>
          <button onclick="speakMessage('C\'est une douleur aigu√´ pendant l\'exercice, surtout quand je descends la barre. Apr√®s, c\'est plus une g√™ne qu\'une vraie douleur.', 'user')" 
                  class="ml-2 text-gray-400 hover:text-[#FF6B35] transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-gray-500 mt-2 text-right">09:17 ‚Ä¢ Vous</p>
      </div>

      <!-- Message 4: Coach -->
      <div class="message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-gradient-to-br from-[#FF6B35] to-[#E74C3C] text-white rounded-xl p-4 mb-4">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-dumbbell"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">D'accord. Il semble que ta technique pourrait √™tre en cause. Trop d'√©cartement des mains ou une descente trop profonde. Je te conseille : 1) R√©duire la charge 2) V√©rifier ta prise 3) Faire 2 semaines sans d√©velopp√© couch√© pour voir si la douleur dispara√Æt.</p>
          <button onclick="speakMessage('D\'accord. Il semble que ta technique pourrait √™tre en cause. Trop d\'√©cartement des mains ou une descente trop profonde. Je te conseille : 1) R√©duire la charge 2) V√©rifier ta prise 3) Faire 2 semaines sans d√©velopp√© couch√© pour voir si la douleur dispara√Æt.', 'coach')" 
                  class="ml-2 text-white/70 hover:text-white transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-white/70 mt-2">09:18 ‚Ä¢ Coach ALAIN</p>
      </div>

      <!-- Message 5: Utilisateur -->
      <div class="message user-message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-[#F5F7FA] border-2 border-[#D0D8E0] rounded-xl p-4 mb-4 self-end">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-user"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">Merci pour les conseils ! Je vais r√©duire la charge. Et pour mes autres exercices d'√©paule comme les √©l√©vations lat√©rales, je peux continuer ?</p>
          <button onclick="speakMessage('Merci pour les conseils ! Je vais r√©duire la charge. Et pour mes autres exercices d\'√©paule comme les √©l√©vations lat√©rales, je peux continuer ?', 'user')" 
                  class="ml-2 text-gray-400 hover:text-[#FF6B35] transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-gray-500 mt-2 text-right">09:20 ‚Ä¢ Vous</p>
      </div>

      <!-- Message 6: Coach -->
      <div class="message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-gradient-to-br from-[#FF6B35] to-[#E74C3C] text-white rounded-xl p-4 mb-4">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-dumbbell"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">Oui, tu peux continuer les √©l√©vations lat√©rales avec des poids l√©gers. √âcoute ton corps - si tu sens la douleur, arr√™te imm√©diatement. Je t'envoie une vid√©o avec les bonnes positions pour le d√©velopp√© couch√©. Pense aussi √† bien t'√©chauffer les √©paules avant chaque s√©ance !</p>
          <button onclick="speakMessage('Oui, tu peux continuer les √©l√©vations lat√©rales avec des poids l√©gers. √âcoute ton corps - si tu sens la douleur, arr√™te imm√©diatement. Je t\'envoie une vid√©o avec les bonnes positions pour le d√©velopp√© couch√©. Pense aussi √† bien t\'√©chauffer les √©paules avant chaque s√©ance !', 'coach')" 
                  class="ml-2 text-white/70 hover:text-white transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-white/70 mt-2">09:22 ‚Ä¢ Coach ALAIN</p>
      </div>
    </div>

    <!-- INPUT AVEC MICROPHONE -->
    <div class="mt-auto pt-4 border-t-2 border-[#D0D8E0]">
      <div class="flex gap-3 message-input-container">
        <div class="flex-1 relative">
          <input type="text" 
                 id="messageInput"
                 placeholder="Tapez votre message ou cliquez sur le micro..."
                 onkeypress="handleKeyPress(event)"
                 class="w-full px-4 py-3 border-2 border-[#D0D8E0]
                        rounded-lg focus:border-[#FF6B35] focus:ring-4
                        focus:ring-orange-500/10 outline-none text-sm md:text-base
                        pr-12">
          
          <!-- Bouton micro √† l'int√©rieur de l'input -->
          <button id="microphoneBtn" 
                  onclick="toggleSpeechRecognition()"
                  class="absolute right-3 top-1/2 transform -translate-y-1/2
                         w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 
                         flex items-center justify-center text-gray-600
                         microphone-btn transition"
                  title="Parler au micro">
            <i class="fas fa-microphone"></i>
          </button>
        </div>
        
        <button onclick="sendMessage()"
                class="w-12 h-12 bg-gradient-to-br from-[#FF6B35] to-[#E74C3C]
                       text-white rounded-lg hover:opacity-90 transition
                       flex items-center justify-center text-lg md:text-xl
                       shadow-[0_4px_12px_rgba(255,107,53,0.4)]">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
      
      <!-- Statut d'√©coute -->
      <div id="listeningStatus" class="mt-2 text-xs text-[#FF6B35] font-medium text-center"></div>
      
      <!-- INDICATIONS RAPIDES -->
      <div class="mt-4">
        <p class="text-xs text-gray-500 mb-2 font-medium"><i class="fas fa-lightbulb mr-1"></i> Questions rapides :</p>
        <div class="flex flex-wrap gap-2">
          <button onclick="document.getElementById('messageInput').value = 'Programme pour prise de masse ?';"
                  class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-xs transition">
            <i class="fas fa-weight-hanging mr-1"></i> Prise de masse
          </button>
          <button onclick="document.getElementById('messageInput').value = 'Comment am√©liorer mon endurance ?';"
                  class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-xs transition">
            <i class="fas fa-person-running mr-1"></i> Endurance
          </button>
          <button onclick="document.getElementById('messageInput').value = 'Alimentation avant l\'entra√Ænement ?';"
                  class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-xs transition">
            <i class="fas fa-apple-alt mr-1"></i> Nutrition
          </button>
          <button onclick="document.getElementById('messageInput').value = '√âtirements pour √©viter les courbatures ?';"
                  class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-xs transition">
            <i class="fas fa-spa mr-1"></i> √âtirements
          </button>
        </div>
      </div>
    </div>

  </div>
  
  
    
    

</section>

<script>
  // Variables globales
  let recognition = null;
  let isListening = false;
  let coachVoiceEnabled = true;
  
  // Messages existants (pour les nouvelles r√©ponses)
  let existingMessages = 6; // Nous avons d√©j√† 6 messages statiques
  
  // Fonction pour initialiser la reconnaissance vocale
  function initSpeechRecognition() {
    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
      recognition = new SpeechRecognition();
      
      recognition.continuous = false;
      recognition.interimResults = false;
      recognition.lang = 'fr-FR';
      
      recognition.onstart = function() {
        console.log("Reconnaissance vocale d√©marr√©e");
        isListening = true;
        document.getElementById('microphoneBtn').classList.add('listening');
        document.getElementById('listeningStatus').textContent = "√âcoute en cours... Parlez maintenant.";
      };
      
      recognition.onresult = function(event) {
        const transcript = event.results[0][0].transcript;
        document.getElementById('messageInput').value = transcript;
        isListening = false;
        document.getElementById('microphoneBtn').classList.remove('listening');
        document.getElementById('listeningStatus').textContent = "Message transcrit ‚úì";
        
        // Envoyer automatiquement apr√®s 1 seconde
        setTimeout(() => {
          document.getElementById('listeningStatus').textContent = "";
          sendMessage();
        }, 1000);
      };
      
      recognition.onerror = function(event) {
        console.error("Erreur reconnaissance:", event.error);
        isListening = false;
        document.getElementById('microphoneBtn').classList.remove('listening');
        document.getElementById('listeningStatus').textContent = "Erreur, r√©essayez";
        
        if (event.error === 'not-allowed') {
          alert("Veuillez autoriser l'acc√®s au microphone dans les param√®tres de votre navigateur.");
        }
      };
      
      recognition.onend = function() {
        isListening = false;
        document.getElementById('microphoneBtn').classList.remove('listening');
        if (!document.getElementById('listeningStatus').textContent.includes("transcrit")) {
          document.getElementById('listeningStatus').textContent = "";
        }
      };
    } else {
      console.warn("Reconnaissance vocale non support√©e");
      document.getElementById('microphoneBtn').style.display = 'none';
      document.getElementById('listeningStatus').textContent = "Microphone non disponible sur ce navigateur";
    }
  }
  
  // Fonction pour lire un message √† haute voix
  function speakMessage(text, sender) {
    if ('speechSynthesis' in window) {
      // Arr√™ter toute lecture en cours
      speechSynthesis.cancel();
      
      const utterance = new SpeechSynthesisUtterance(text);
      utterance.lang = 'fr-FR';
      utterance.rate = 1.0;
      utterance.pitch = 1.0;
      utterance.volume = 1.0;
      
      // Changer la voix selon l'exp√©diteur
      if (sender === 'coach') {
        utterance.rate = 0.9; // Voix plus lente pour le coach
      }
      
      speechSynthesis.speak(utterance);
    }
  }
  
  // Fonction pour envoyer un nouveau message
  function sendMessage() {
    const input = document.getElementById('messageInput');
    const messageText = input.value.trim();
    
    if (messageText === '') return;
    
    const messagesContainer = document.getElementById('messagesContainer');
    const now = new Date();
    const timeString = now.toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
    
    // Ajouter le message utilisateur (statique)
    const userMessageHTML = `
      <div class="message user-message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-[#F5F7FA] border-2 border-[#D0D8E0] rounded-xl p-4 mb-4 self-end">
        <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
          <i class="fas fa-user"></i>
        </div>
        <div class="flex justify-between items-start">
          <p class="text-sm md:text-base pr-8">${messageText}</p>
          <button onclick="speakMessage('${messageText.replace(/'/g, "\\'")}', 'user')" 
                  class="ml-2 text-gray-400 hover:text-[#FF6B35] transition"
                  title="Lire √† haute voix">
            <i class="fas fa-volume-up"></i>
          </button>
        </div>
        <p class="text-xs text-gray-500 mt-2 text-right">${timeString} ‚Ä¢ Vous</p>
      </div>
    `;
    
    messagesContainer.innerHTML += userMessageHTML;
    input.value = '';
    
    // Faire d√©filer vers le bas
    messagesContainer.scrollTop = messagesContainer.scrollHeight;
    
    // Simuler une r√©ponse du coach apr√®s 2 secondes
    setTimeout(() => {
      const coachResponses = [
        "Je te recommande de bien t'hydrater avant et apr√®s l'entra√Ænement.",
        "As-tu essay√© les √©tirements que je t'ai montr√©s dans la vid√©o ?",
        "N'oublie pas que la progression prend du temps, sois patient !",
        "Super initiative de me consulter pour cette douleur !",
        "Pour les d√©butants, je conseille 3 s√©ances par semaine maximum.",
        "La nutrition est aussi importante que l'entra√Ænement, tu suis un r√©gime adapt√© ?",
        "√âcoute toujours ton corps, c'est ton meilleur indicateur !",
        "Je peux te pr√©parer un programme personnalis√© si tu veux.",
        "Les douleurs articulaires ne sont pas √† prendre √† la l√©g√®re.",
        "Continue comme √ßa, tu fais du bon travail ! üí™"
      ];
      
      const randomResponse = coachResponses[Math.floor(Math.random() * coachResponses.length)];
      const coachTime = new Date(now.getTime() + 2000).toLocaleTimeString('fr-FR', { hour: '2-digit', minute: '2-digit' });
      
      const coachMessageHTML = `
        <div class="message max-w-full md:max-w-[75%] lg:max-w-[70%] bg-gradient-to-br from-[#FF6B35] to-[#E74C3C] text-white rounded-xl p-4 mb-4">
          <div class="message-icon bg-gradient-to-br from-[#0A1F2F] to-[#1A3B5A]">
            <i class="fas fa-dumbbell"></i>
          </div>
          <div class="flex justify-between items-start">
            <p class="text-sm md:text-base pr-8">${randomResponse}</p>
            <button onclick="speakMessage('${randomResponse.replace(/'/g, "\\'")}', 'coach')" 
                    class="ml-2 text-white/70 hover:text-white transition"
                    title="Lire √† haute voix">
              <i class="fas fa-volume-up"></i>
            </button>
          </div>
          <p class="text-xs text-white/70 mt-2">${coachTime} ‚Ä¢ Coach ALAIN</p>
        </div>
      `;
      
      messagesContainer.innerHTML += coachMessageHTML;
      messagesContainer.scrollTop = messagesContainer.scrollHeight;
      
      // Mettre √† jour le compteur de messages
      existingMessages += 2;
      document.querySelector('.text-blue-700 li:nth-child(2)').innerHTML = `<span class="font-medium">Messages :</span> ${existingMessages} √©chang√©s`;
      
      // Lire la r√©ponse du coach si activ√©
      if (coachVoiceEnabled) {
        speakMessage(randomResponse, 'coach');
      }
    }, 2000);
  }
  
  // Fonction pour envoyer avec la touche Entr√©e
  function handleKeyPress(event) {
    if (event.key === 'Enter') {
      sendMessage();
    }
  }
  
  // Fonction pour basculer la voix du coach
  function toggleCoachVoice() {
    coachVoiceEnabled = !coachVoiceEnabled;
    const btn = document.getElementById('voiceToggleBtn');
    if (coachVoiceEnabled) {
      btn.innerHTML = '<i class="fas fa-volume-up mr-1"></i> Voix activ√©e';
      btn.classList.remove('bg-gray-300', 'text-gray-700');
      btn.classList.add('bg-gradient-to-br', 'from-[#0A1F2F]', 'to-[#1A3B5A]', 'text-white');
    } else {
      btn.innerHTML = '<i class="fas fa-volume-mute mr-1"></i> Voix d√©sactiv√©e';
      btn.classList.remove('bg-gradient-to-br', 'from-[#0A1F2F]', 'to-[#1A3B5A]', 'text-white');
      btn.classList.add('bg-gray-300', 'text-gray-700');
    }
  }
  
  // Fonction pour d√©marrer/arr√™ter l'√©coute
  function toggleSpeechRecognition() {
    if (!recognition) {
      initSpeechRecognition();
    }
    
    if (isListening) {
      recognition.stop();
      isListening = false;
      document.getElementById('microphoneBtn').classList.remove('listening');
      document.getElementById('listeningStatus').textContent = "";
    } else {
      try {
        recognition.start();
      } catch (e) {
        console.error("Erreur d√©marrage:", e);
      }
    }
  }
  
  // Initialiser la reconnaissance vocale au chargement
  window.addEventListener('DOMContentLoaded', function() {
    initSpeechRecognition();
  });
</script>
<!-- ================= FOOTER ================= -->
<footer class="bg-[#1A3B5A] text-white mt-16">
  <div class="max-w-7xl mx-auto px-6 py-8 grid grid-cols-1 md:grid-cols-2 gap-6">

    <div>
      <h3 class="font-bold text-lg font-montserrat">ESPRITFIT</h3>
      <p class="text-sm opacity-90 mt-2">
        Plateforme universitaire pour d√©couvrir, planifier et r√©server des activit√©s sportives.
      </p>
    </div>

    <div class="md:text-right">
      <p>Campus Esprit, Tunis</p>
      <p class="text-orange-400 font-semibold">sport@esprit.tn</p>
      <p class="font-semibold">71 000 000</p>
    </div>

  </div>
</footer>
</body>
</html>